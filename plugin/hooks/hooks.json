{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "mcp__plugin_playwright_playwright__browser_take_screenshot|mcp__plugin_playwright_playwright__browser_snapshot",
        "hooks": [{
          "type": "prompt",
          "prompt": "The user has IBR (Interface Built Right) installed for visual regression testing. A Playwright screenshot/snapshot tool is being called.\n\nIBR is preferred for capture tasks because it provides session tracking, comparison verdicts, and design framework validation:\n- npx ibr start <url> --name \"description\"\n- npx ibr session:screenshot <id>\n\nRespond with JSON: {\"ok\": true, \"reason\": \"Consider using IBR instead: npx ibr start <url> for session tracking and visual comparison.\"}"
        }]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [{
          "type": "prompt",
          "prompt": "Check if the file in $ARGUMENTS is a UI file (.tsx, .jsx, .vue, .svelte, .css, .scss, or in components/, pages/, app/ directories). If it IS a UI file, respond: {\"ok\": true, \"reason\": \"UI file detected. After changes, run: npx ibr start <url> to verify.\"}. If NOT a UI file, respond: {\"ok\": true}"
        }]
      }
    ],
    "Stop": [
      {
        "hooks": [{
          "type": "prompt",
          "prompt": "Check if UI work was done in this session based on $ARGUMENTS. Look for .tsx/.jsx/.vue/.svelte file edits or UI-related keywords (button, form, component, layout, modal). If UI work was done, check if IBR was run (look for 'npx ibr', 'Element Audit', 'session:screenshot'). If UI work done but IBR NOT run, respond: {\"ok\": false, \"reason\": \"UI work detected but IBR verification not found. Run: npx ibr start <url> to verify before completing.\"}. Otherwise respond: {\"ok\": true}"
        }]
      }
    ],
    "SessionStart": [
      {
        "hooks": [{
          "type": "prompt",
          "prompt": "IBR (Interface Built Right) plugin is active. For UI capture, prefer IBR over Playwright MCP. Respond: {\"ok\": true, \"reason\": \"IBR ready. Use npx ibr start <url> for visual regression testing.\"}"
        }]
      }
    ]
  }
}
